## Семинар 1. Задача №7 "Кодовый замок"
Модель Крипке $M = (S, S_0, R, L)$
### Множество состояний $S$
1. $d -$ состояние *door:*
  - $d = 0:$ closed -- дверь заблокирована и готова к началу ввода цифр;
  - $d = 1:$ digit0 -- ожидается ввод первой цифры;
  - $d = 2:$ digit1 -- ожидается ввод второй цифры;
  - $d = 3:$ open -- дверь открыта;
  - $d = 4:$ alarm -- тревога (превышено число допустимых ошибок).
2. $e -$ состояние *error:*
  - $e = 0:$ ошибок не было;
  - $e = 1:$  допущена ровно одна ошибка;
  - $e = 2:$ допущено более одной ошибки. 
3. $c -$ состояние *code input:*
  - $c = 0:$ код ещё не введён;
  - $c = 1:$ ввод первой цифры;
  - $c = 2:$ ввод второй цифры.
4. $x -$ введённая цифра.

### Множество начальных состояний $S_0$
Формула для начальных состояний в FOL: 
$S_0 (d, e, с) \equiv (d = 0 ) \land (e = 0) \land (c = 0)$
### Отношение переходов $R$
1. **start** (начало ввода кода)
  - Условие: дверь закрыта ($d = 0$).
  - Результат: переходит в состояние ожидания первой цифры ($d' = 1$), ошибки не изменяются.
  - Формула: $(d = 0 \land d' = 1 \land e' = e \land c' = 1)$
2. **d0** (ввод первой цифры)
  - Введённая цифра $x$ сравнивается с первой цифрой кода $d_0$.
  - Если цифра введена правильно: $d' = 2$, иначе ошибка ($e' = e + 1$).
  - Формула: $(d = 1 \land x = d_0 \land d' = 2 \land e' = e \land c' = 2) \lor (d = 1 \land x \neq d_0 \land e = 0 \land e' = 1 \land d' = 2 \land c' = 2)$
3. **d1** (ввод второй цифры)
  - Введённая цифра $x$ сравнивается со второй цифрой кода $d_1$;
  - Если цифра введена правильно и ошибок не более одной, дверь открывается: $d' = 3$;
  - Если вторая цифра введена неправильно, ошибка увеличивается;
  - Если количество ошибок превысило 1, тревога: $d' = 4$;
  - Формула: $(d = 2 \land x = d_1 \land e \leq 1 \land d' = 3 \land e' = e \land c' = 0) \lor (d = 2 \land x \neq d_1 \land e' = e + 1 \land (e' > 1 \to d' = 4) \land (e' \leq 1 \to d' = 2) \land c' = 2)$
4. **reset** (возврат к начальному состоянию)
  - После открытия двери или тревоги система сбрасывается: $d' = 0$, $e' = 0$, $c' = 0$.
  - Формула: $(d = 3 \lor d = 4) \to (d' = 0 \land e' = 0 \land c' = 0)$  

  Получаем формулу $S(d, e, c, d', e', c') = (start) \lor (d0) \lor (d1) \lor (reset)$
### FOL
*Начальное состояние:* $S_0 (d, e, с) \equiv (d = 0 ) \land (e = 0) \land (c = 0)$  
*Финальная формула отношения переходов:* $S(d, e, c, d', e', c') = (start) \lor (d0) \lor (d1) \lor (reset)$

### Состояния
$S_0(0,0,0)$ – начальное состояние (дверь закрыта, ошибок нет, ввод не начат).  
$S_1(1,0,1)$ – введена первая цифра (верная), ожидается вторая цифра, ошибок нет.  
$S_2(2,0,2)$ – введена вторая цифра (верная), дверь открывается, ошибок нет.  
$S_3(1,1,1)$ – введена первая цифра (неверная), ошибки = 1, ожидается вторая цифра.  
$S_4(2,1,2)$ – введена вторая цифра (верная после ошибки), но дверь не открывается.  
$S_5(2,2,2)$ – введена вторая цифра (неверная после ошибки), ошибок стало 2 → тревога.  
$S_6(3,0,0)$ – дверь открыта после успешного ввода.  
$S_7(4,2,0)$ – тревога (ошибок больше одной).  
$S_8(0,0,0)$ – сброс системы после успешного входа.  
$S_9(0,0,0)$ – сброс системы после тревоги.
